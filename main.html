<html>
<head>
	<title>SubSonic</title>
	<script src="Ajax.js" type="text/javascript" charset="utf-8"></script>
	<script src="Subsonic.js" type="text/javascript" charset="utf-8"></script>
	<style>
	body {
	  font-family:helvetica, arial, sans-serif;
	  font-size:80%;
	  margin:10px;
	  background-color: #eee;
	}

	div {
		display: none;
		position: absolute;
		left: 35%;
		top: 30%;
		background-color: white;
		border: 1px solid black;
		padding: 10px;
		text-align: center;
		width: 30%;
	}

	table {
		margin-left: auto;
		margin-right: auto;
	}

	</style>
	<script type="text/javascript" charset="utf-8">

		var show_elem = function( id ) {
			document.getElementById( id ).style.display = "block";
		}

		var hide_elem = function( id ) {
			document.getElementById( id ).style.display = "none";
		}

		var init = function () {

			document.getElementById( 'save_server' ).onclick = function() {
				var serverObj = {};

				serverObj.server = document.getElementById( 'server' ).value;
				serverObj.username = document.getElementById( 'username' ).value;
				serverObj.password = document.getElementById( 'password' ).value;
				serverObj.save = document.getElementById( 'save').checked;

				Subsonic.testServer( serverObj );
			}

			var servers = Subsonic.listServers();

			if ( servers.length === 0 ) {
				show_elem( 'add_servers' );
				// show_elem( 'servers' );
				return;
			}

			// list the servers;
		}
	</script>
</head>
<body onload="init()">
	<center><img src="icon_128.png" /></center>
	<div id="servers">
		server 1<br/>
		server 2<br/>
		server 3<br/>
		server 4<br/>
		server 5<br/>
		server 6<br/>
	</div>
	<div id="add_servers">
		<table> 
			<tr>
				<td>Server Name:</td><td><input id="server" type="text" name="server" value=""></td><td></td>
			</tr>
			<tr>
				<td>Username:</td><td><input id="username" type="text" name="username" value=""></td><td></td>
			</tr>
			<tr>
				<td>Password:</td><td><input id="password" type="password" name="password" value=""></td><td></td>
			</tr>
			<tr>
				<td>Save Password:</td><td><input id="save" type="checkbox" name="savepasswd" value=""></td><td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td><input id="save_server" type="button" name="save" value="Save"></td>
			</tr>
		</table>
	</div>
</body>
</html>
